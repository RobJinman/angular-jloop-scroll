var jl=jl||{};jl.Scroll=function(a,b,c,d,e){var f={},g=0;this.addCallback=function(a,b,h){var i=a.get(0).id;i&&0!==i.length||(i=a.get(0).id="jlScroll"+g++);var j=f[i];j&&0!==j.length||(a.on("scroll",d.debounce(function(a){var b=f[i];for(var d in b)b[d](a);c.$digest()},1e3/e)),f[i]={}),f[i][b]=h},this.removeCallback=function(a,b){var c=a.get(0).id;if(c){var d=f[c];d&&delete d[b]}},this.scrollTo=function(a,c,e,f){f=f||"swing";var g=0;g=d.isWindow(a)?b.height()-a.height():a.get(0).scrollHeight-a.innerHeight(),c>g&&(c=g);var h=Math.abs(c-a.scrollTop()),i=h/e;d.isWindow(a)?d.element("html, body").animate({scrollTop:c},1e3*i,f):a.animate({scrollTop:c},1e3*i,f)}},angular.module("jlScroll",["jlUtil"]).provider("scroll",[function(){var a=this;a.maxScrollEventsPerSecond=30,a.$get=["jlWindow","jlDocument","$rootScope","util",function(b,c,d,e){return new jl.Scroll(b,c,d,e,a.maxScrollEventsPerSecond)}]}]).directive("jlScroll",["util","scroll",function(a,b){function c(c,d){var e=a.element(d);e&&(b.addCallback(e,"jlScroll",function(a){c.jlScroll({event:a})}),c.$on("$destroy",function(){b.removeCallback(e,"jlScroll")}))}return{restrict:"A",link:c,scope:{jlScroll:"&"}}}]);