var jl=jl||{};jl.Scroll=function(a,b,c,d){var e={},f=0;this.addCallback=function(a,g,h){var i=a.get(0).id;i&&0!==i.length||(i=a.get(0).id="jlScroll"+f++);var j=e[i];j&&0!==j.length||(a.on("scroll",c.debounce(function(a){var c=e[i];for(var d in c)c[d](a);b.$digest()},1e3/d)),e[i]={}),e[i][g]=h},this.removeCallback=function(a,b){var c=a.get(0).id;if(c){var d=e[c];d&&delete d[b]}},this.scrollTo=function(a,b,d){var e=Math.abs(b-a.scrollTop()),f=e/d;c.isWindow(a)?c.element("html, body").animate({scrollTop:b},1e3*f):a.animate({scrollTop:b},1e3*f)}},angular.module("jlScroll",["jlUtil"]).provider("scroll",[function(){var a=this;a.maxScrollEventsPerSecond=30,a.$get=["jlWindow","$rootScope","util",function(b,c,d){return new jl.Scroll(b,c,d,a.maxScrollEventsPerSecond)}]}]).directive("jlScroll",["util","scroll",function(a,b){function c(c,d){var e=a.element(d);e&&(b.addCallback(e,"jlScroll",function(a){c.jlScroll({event:a})}),c.$on("$destroy",function(){b.removeCallback(e,"jlScroll")}))}return{restrict:"A",link:c,scope:{jlScroll:"&"}}}]);